{"mappings":"YAAA,SAASA,EAAcC,EAAUC,GAC/B,IAAMC,EAAgBC,KAAKC,SAAW,GACtC,OAAO,IAAIC,SAAQ,SAACC,EAAKC,GACvBC,YAAW,WACLN,EACFI,EACEG,SAASC,KAAKC,mBACZ,YACA,6FAA8GC,OAAfZ,EAAS,QAAYY,OAANX,EAAM,eAIxHM,EACEE,SAASC,KAAKC,mBACZ,YACA,0FAAyGC,OAAfZ,EAAS,QAAYY,OAANX,EAAM,c,GAIpHA,E,IAEFY,MAAK,SAAAP,GACJQ,QAAQC,IAAIT,E,IAEbU,OAAM,SAAAT,GACLO,QAAQC,IAAIR,E,IAIlB,IAAMU,EAAO,CACXC,MAAOT,SAASU,cAAc,kBAC9BC,KAAMX,SAASU,cAAc,iBAC7BE,OAAQZ,SAASU,cAAc,mBAC/BG,aAAcb,SAASU,cAAc,oBAE/BI,EAAsCN,EAAtCC,MAAOM,EAA+BP,EAA/BG,KAAMK,EAAyBR,EAAzBI,OAAyBJ,EAAjBK,aAE7BL,EAAKK,aAAaI,iBAAiB,SAEnC,SAA6BC,GAC3BA,EAAEC,iBAEF,SAASC,I,IACHC,EADUC,UAAAC,OAAA,YAAAD,UAAA,GAAKA,UAAA,GAAD,EAEdE,IAAcV,EAAMW,QAAUV,EAAKU,MAAQJ,EAE3CK,OAAOV,EAAOS,OAASJ,IAG3B/B,EAAc+B,EAAOG,GACrBJ,EAAQC,GAAS,G,CATnBD,E","sources":["src/js/03-promises.js"],"sourcesContent":["function createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  return new Promise((res, rej) => {\n    setTimeout(() => {\n      if (shouldResolve) {\n        res(\n          document.body.insertAdjacentHTML(\n            'beforeend',\n            `<span style =\"display: block; background-color: yellow; width: 300px\">✅ Fulfilled promise ${position} in ${delay}ms</span>`\n          )\n        );\n      } else {\n        rej(\n          document.body.insertAdjacentHTML(\n            'beforeend',\n            `<span style =\"display: block; background-color: grey; width: 300px\">❌ Rejected promise ${position} in ${delay}ms</span>`\n          )\n        );\n      }\n    }, delay);\n  })\n    .then(res => {\n      console.log(res);\n    })\n    .catch(rej => {\n      console.log(rej);\n    });\n}\n\nconst refs = {\n  delay: document.querySelector('[name=\"delay\"]'),\n  step: document.querySelector('[name=\"step\"]'),\n  amount: document.querySelector('[name=\"amount\"]'),\n  submitButton: document.querySelector('[type=\"submit\"]'),\n};\nconst { delay, step, amount, submitButton } = refs;\n\nrefs.submitButton.addEventListener('click', onsubmitButtonClick);\n\nfunction onsubmitButtonClick(e) {\n  e.preventDefault();\n  mainFn();\n  function mainFn(n = 1) {\n    let count = n;\n    let stepDelay = ~~delay.value + ~~step.value * count;\n\n    if (Number(amount.value) < count) {\n      return;\n    }\n    createPromise(count, stepDelay);\n    mainFn((count += 1));\n  }\n}\n"],"names":["$ce04d3a99e08e73b$var$createPromise","position","delay1","shouldResolve","Math","random","Promise","res","rej","setTimeout","document","body","insertAdjacentHTML","concat","then","console","log","catch","$ce04d3a99e08e73b$var$refs","delay","querySelector","step","amount","submitButton","$ce04d3a99e08e73b$var$delay","$ce04d3a99e08e73b$var$step","$ce04d3a99e08e73b$var$amount","addEventListener","e","preventDefault","mainFn","count","arguments","length","stepDelay","value","Number"],"version":3,"file":"03-promises.4ff57829.js.map"}